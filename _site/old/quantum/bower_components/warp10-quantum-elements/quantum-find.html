<html><head></head><body><dom-module id="quantum-find"><template><style>:host{display:block;padding:30px;--app-primary-color:var(--google-blue-500);--app-secondary-color:black;--app-background-color:white;--app-on-background-color:white;}.top-10{margin-top:10px;}.right{float:right;}#editor{min-height:300px;font-size:14px;}#token, #selector{width:100%;}h4{font-weight:bold;}granite-alert[hidden]{display:none;}paper-button{background-color:var(--app-primary-color);color:var(--app-on-background-color);}granite-spinner{z-index:100;}.item{margin-top:8px;margin-bottom:8px;}.item_name{color:var(--paper-grey-600);font-family:'Roboto', 'Noto', sans-serif;-webkit-font-smoothing:antialiased;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-size:12px;font-weight:400;letter-spacing:0.011em;line-height:20px;}.item_value{@apply --layout-horizontal;@apply --layout-center;@apply --layout-wrap;}.clearfix:before,
      .clearfix:after{content:" ";display:table;}.clearfix:after{clear:both;}.title{text-transform:capitalize;}</style><h2 class="title">{{name}}</h2><granite-spinner active="{{loading}}" size="200" hover=""></granite-spinner><div class="top-10"><paper-input auto-validate="" prevent-invalid-input="" always-float-label="" name="token" label="Read token" type="text" value="{{token}}" required=""></paper-input></div><div class="top-10"><paper-input auto-validate="" prevent-invalid-input="" always-float-label="" name="selector" label="Selector to find" type="text" value="{{selector}}" required=""></paper-input></div><div class="top-10"><div class="right"><paper-button id="btn_execute" class="btn btn-primary btn-lg" on-click="execute" disabled$="{{_disabled}}">Execute!</paper-button></div></div><div class="clearfix"></div><div class="top-10"><granite-alert level="danger" hidden$="{{!_hasAnError}}">{{errorMsg}}</granite-alert><granite-alert level="success" hidden$="{{!_hasAResponse}}">{{data}}</granite-alert></div><granite-ajax-saver id="xhr" url="{{_baseUrl}}?selector={{selector}}" method="GET" handle-as="json" on-response="_handleResponse" on-error="_handleError"></granite-ajax-saver></template><script>class QuantumFind extends Warp10QuantumModuleMixin(Polymer.mixinBehaviors([Polymer.AppLocalizeBehavior],Polymer.Element)){static get is(){return'quantum-find'}static get properties(){return{token:{type:String,value:''},selector:{type:String,value:''},_baseUrl:{type:String,computed:'_getBaseUrl(backend)'},_disabled:{type:Boolean,computed:'_isDisabled(token, selector)'},debug:{type:Boolean,value:!1}}}ready(){super.ready(),this._hasAnError=0,this._hasAResponse=0}_getBaseUrl(){return this.debug&&console.debug('[quantum-find] _getBaseUrl',this.backend),this.backend.url+this.backend.findEndpoint}_isDisabled(){return this.debug&&console.debug('[quantum-find] _isDisabled',!this.token||!this.selector),!this.token||!this.selector}execute(){let a=this.backend.headerName+'-Token';this.$.xhr.headers={},this.$.xhr.headers[a]=this.token,this.debug&&console.debug('[quantum-find] _doCall - headers',this.$.xhr.headers),this.$.xhr.generateRequest()}_editorChangeAction(a,b){this.dispatchEvent(new CustomEvent('editor-content',{detail:{value:a,oldValue:b}})),this.content=a.detail.value,this.debug&&console.debug('[quantum-find] Ide content changed',this.content)}_handleResponse(a,b){this.debug&&console.debug('[quantum-find] _handleResponse - Updated!',b.response),this._hasAResponse=!0,this._hasAnError=!1,this.data=b.response}_handleError(a,b){this.debug&&console.debug('[quantum-find] _handleError - Updated!',b),this._hasAResponse=!1,this._hasAnError=!0,this.data=null,this.errorMsg=b.request.statusText||'Unkown error'}}customElements.define(QuantumFind.is,QuantumFind);</script></dom-module></body></html>